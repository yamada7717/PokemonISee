<div class="container flex-grow mx-auto p-6 md:flex mt-[124px]">
  <div class="flex flex-col items-start mb-6 md:mb-0 md:mr-6 bg-white p-4 shadow rounded-lg w-[250px] max-h-[400px] overflow-auto mx-auto md:mx-0">
    <% flash.each do |key, message| %>
      <div class="p-4 mt-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-white-800" role="notice">
        <span class="font-medium"><%= message %></span>
      </div>
    <% end %>
    <div class="ml-4">
      <% if @user.profile_image.present? %>
        <%= image_tag @user.profile_image, alt: "アイコン", class: "w-8 h-8 rounded-full" %>
      <% end %>
      <p class="text-sm mb-2 "><%= @user.name %></p>
    </div>
    <div class="mt-2 ml-4">
      <p class="text-sm text-gray-600 leading-relaxed break-words"><%= @user.introduction %></p>
    </div>
    <div class="flex space-x-4 text-sm mt-2 ml-4 mb-2">
      <div class="text-center">
        <%= link_to following_user_path(@user), class: "text-gray-700 hover:text-gray-900 block" do %>
          <span>フォロー中</span>
          <div class="text-sm font-normal"><%= @user.followings.count %></div>
        <% end %>
      </div>
      <div class="text-center">
        <%= link_to followers_user_path(@user), class: "text-gray-700 hover:text-gray-900 block" do %>
          <span>フォロワー</span>
          <div class="text-sm font-normal"><%= @user.followers.count %></div>
        <% end %>
      </div>
    </div>
    <div class="flex space-x-4 text-sm mt-2 ml-4 mb-2">
      <% if current_user != @user %>
        <% if current_user.following?(@user) %>
          <%= button_to 'フォローを外す', user_follow_path(@user), method: :delete, class: "ml-auto px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition duration-200" %>
        <% else %>
          <%= button_to 'フォローする', user_follow_path(@user), method: :post, class: "ml-auto px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-200" %>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="flex-1 bg-white p-4 shadow rounded-lg overflow-auto">
    <div class="mb-2 flex flex-col md:flex-row md:flex-wrap items-center">
      <%= link_to 'シングルバトル公開記事', user_path(@user), class: "rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-semibold text-white hover:bg-blue-600 mb-2 md:mb-0 md:mr-2" %>
      <%= link_to 'ダブルバトル公開記事', public_double_builds_user_path(@user), class: "rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-semibold text-white hover:bg-blue-600 mb-2 md:mb-0 md:mr-2" %>
      <%= link_to 'シングルバトルいいね記事', single_battle_likes_user_path(@user), class: "rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-semibold text-white hover:bg-blue-600 mb-2 md:mb-0 md:mr-2" %>
      <%= link_to 'ダブルバトルいいね記事', double_battle_likes_user_path(@user), class: "rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-semibold text-white hover:bg-blue-600 mb-2 md:mb-0 md:mr-2" %>
    </div>
    <div class="flex justify-center">
      <%== pagy_nav(@pagy) %>
    </div>
    <div class="flex flex-wrap">
      <%= render "shared/builds"%>
  </div>
  <div class="flex justify-center">
    <%== pagy_nav(@pagy) %>
  </div>
  </div>
</div>
